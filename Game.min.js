var Game=function(a){this.init=function(){for(var b=0;b<36;b++){var c=this.spawn_block();c.pos[0]=40*(b%6),c.pos[2]=-40*Math.floor(b/6),a.groups.push(c)}},this.play=function(){for(var b=1;b<a.objs.length;b++)a.objs[b].mesh.rot[1]>360&&(a.objs[b].mesh.rot[1]-=360),a.objs[b].mesh.rot[1]<-360&&(a.objs[b].mesh.rot[1]+=360);for(var b=0;b<a.groups.length;b++)a.groups[b].rot[1]>360&&(a.groups[b].rot[1]-=360),a.groups[b].rot[1]<-360&&(a.groups[b].rot[1]+=360)},this.spawn_block=function(){for(var b=[],c=0;c<4;c++){var d=new Obj3D(new PlaneMesh({size:[10],pos:[8,a.floor,8],rot:[-90,0,0],color:[102,45,145],backside:!1})),e=random(5,15),f=new Obj3D(new BoxMesh({size:[5,e,5],pos:[8,a.floor+e/2,8],rot:[0,0,0]}));switch(c){case 1:f.mesh.pos[0]*=-1,d.mesh.pos[0]*=-1;break;case 2:f.mesh.pos[0]*=-1,d.mesh.pos[0]*=-1,f.mesh.pos[2]*=-1,d.mesh.pos[2]*=-1;break;case 3:f.mesh.pos[2]*=-1,d.mesh.pos[2]*=-1}random(0,3)<3?(a.objs.push(f),a.objs.push(d),b.push(f),b.push(d)):(f=!1,d=!1)}var g=new ObjGroup(b,{pos:[0,0,0],rot:[0,0,0]});return g}};